<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elite Empire Onboarding</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <header>
    <div class="logo">
      <img src="https://storage.googleapis.com/msgsndr/vnUxqumAkGGJeHp06s9n/media/67fc2eac3baf5df63486c7b6.png" alt="Elite Empire Logo">
    </div>
    <div style="text-align: right; margin-top: 10px;">
  <button id="theme-toggle" style="padding: 6px 12px; border-radius: 6px; font-weight: bold;">
    🌙 Enable Dark Mode
  </button>
</div>

    <h1><span id="agent-name"></span>, Welcome to Elite Empire’s Social Media Setup</h1>
    <p class="intro">
      I'm Coach Barbee, and I want to personally welcome you to the Elite Empire brand setup experience. I understand how important social media influence is in today’s world — but I also know how overwhelming it can be to figure it out on your own. <strong class="key">That’s why I’ve simplified this process for you.</strong>
    </p>
    <p class="intro">
      You don’t have to guess what to post, how to stay compliant, or how to look professional — <strong class="key">we’re handling that for you</strong>. Our goal is to help you <strong class="key">increase your impact and income</strong> while decreasing confusion and wasted time. This setup takes less than <strong class="key">20 minutes</strong> and can be completed entirely from your phone.
    </p>
    <p class="intro">
      In 2025, social media is <strong class="key">not optional</strong>— it's a <strong class="key">business growth accelerator</strong>. Brands that actively post and stay top-of-mind convert 78% more leads and referrals than those that don’t. Most agents using this system generate <strong class="key">3 recruits × $5K/month in premium</strong>, attract referrals for Life, Auto, Home, PLPP, Vivint Home Security, Identity Theft Protection, Mortgage Loans, and Investments. With <strong class="key">consistency and focus</strong>, many agents are earning an additional <strong class="key">$1K–$3K monthly</strong> — or even building a <strong class="key">6-figure annual income</strong> — all on a part-time basis from their phone or home.
    </p>
    <p class="intro">
      <strong class="key">Why do I know this?</strong> Because it’s happening every day in our company.<br>
      This system is exclusive to Elite Empire and powered by Coach Barbee.
    </p>
    <p class="intro">
      <strong class="key">Before You Begin:</strong> As your RVP, I request Content Manager access to your Facebook Business Page.<br>
      <strong class="key">Email for any questions:</strong> <span title="Used to add Coach Barbee to your business page">rvpbarbee@eliteempireteam.com</span><br>
      <strong class="key">This does NOT give access to your inbox, DMs, private messages, or personal data.</strong>
    </p>
  </header>

  <div class="progress-bar">
    <div class="step" id="step-1">Step 1</div>
    <div class="step" id="step-2">Step 2</div>
    <div class="step" id="step-3">Step 3</div>
    <div class="step" id="step-4">Step 4</div>
    <div class="step" id="step-5">Step 5</div>
    <div class="step" id="step-6">Step 6</div>
  </div>
<div id="progress-status">
  <p>Progress:</p>
  <div id="progress-container">
    <div id="progress-bar-fill">
      <span id="progress-bar-text">
        Building an Empire – <span id="progress-bar-percent">0%</span>
      </span>
    </div>
  </div>
</div>


  <main>
    <section id="step1">
      <h2 title="Connect both platforms for uniform branding">📲 Step 1: Facebook Personal + Instagram Setup</h2>
      <p>Connect your personal Facebook account and Instagram to ensure consistency across platforms. These accounts will form the foundation for your business presence.</p>
      <button id="btn-step-1" class="complete-btn" onclick="markComplete(1)">Mark Step 1 Complete</button>
    </section>

    <section id="step2">
      <h2 title="Switch Instagram to a business profile">⚡ Step 2: Switch to Instagram Professional</h2>
      <p>Go to: Profile → Settings → Account → Switch to Professional → Choose Business. Make it public. Select a category such as Financial Services. Use your Instagram Bio from the email you received. This bio is different than your Facebook one. You’ll also receive a custom Link-in-Bio page including your calendar and service links.</p>
      <button id="btn-step-2" class="complete-btn" onclick="markComplete(2)">Mark Step 2 Complete</button>
    </section>

    <section id="step3">
      <h2 title="This is the public page clients will see">📘 Step 3: Create Your Facebook Business Page</h2>
      <p><strong class="key">Pro Tip:</strong> Your Master Bio is for your Facebook Business Page. Your Facebook Personal Bio should include a CTA to follow your Business Page.</p>
      <p>Go to Pages → + Create New Page</p>
      <p>Page Name: Your Name + Financial<br>Example Page Name: Jane Smith Financial<br>Category: Financial Services</p>
      <p>Paste your Master Bio into the "About" section and upload your profile photo and banner from your email.</p>

      <h3>Download Meta Business Suite App</h3>
      <p class="subnote">Manage your Facebook Page on the go with the Meta Business Suite app.</p>
      <div class="download-buttons icon-style">
        <a class="meta-btn ios" href="https://apps.apple.com/app/meta-business-suite/id514643583" target="_blank">
        <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Download on the App Store">
        </a>
        <a class="meta-btn android" href="https://play.google.com/store/apps/details?id=com.facebook.pages.app" target="_blank">
          <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Get it on Google Play">
        </a>
      </div>

      <button id="btn-step-3" class="complete-btn" onclick="markComplete(3)">Mark Step 3 Complete</button>
    </section>

    <section id="step4">
      <h2>🔗 Step 4: Link Facebook Page to Instagram</h2>
      <p>Go to your Facebook Business Page → Settings → Linked Accounts → Connect Instagram.</p>
      <p><strong class="key">Pro Tip:</strong> Make sure you're logged into the correct Facebook account that owns your Business Page. If you manage multiple pages, select the one branded for your financial business.</p>
      <ul>
        <li>✅ Professional Insights</li>
        <li>✅ Ad Tools</li>
        <li>✅ Post Scheduling via Meta Business Suite</li>
      </ul>
      <p><strong class="key">⚠ Do NOT</strong> connect your personal Facebook profile to Instagram. You must link to a Facebook Business Page to unlock business features like analytics, ad tracking, and automation.</p>
      <button id="btn-step-4" class="complete-btn" onclick="markComplete(4)">Mark Step 4 Complete</button>
    </section>

    <section id="step5">
      <h2>🛠 Step 5: Grant Posting Access</h2>
      <p>Open the Facebook app → Menu → Pages → Select your Business Page → Settings (gear icon) → Page Access → Add New → Enter: <strong>rvpbarbee@eliteempireteam.com</strong></p>
      <p>Set Role as: Content Manager or Full Control.</p>
      <p><strong class="key">This does NOT</strong> give us access to your inbox, DMs, private messages, or personal messages. This permission is only for posting and managing business content.</p>
      <a class="access-button" href="https://www.facebook.com/settings?tab=profile_access" target="_blank">Grant Access Now</a>
      <button id="btn-step-5" class="complete-btn" onclick="markComplete(5)">Mark Step 5 Complete</button>
    </section>

    <section id="step6">
      <h2>📣 Step 6: Notify Coach Barbee</h2>
      <p><strong class="key">✅ Double-check that:</strong></p>
      <ul>
        <li>Your Instagram and Facebook are fully set up</li>
        <li>Bios are added to your profiles</li>
        <li>Pages are set to public</li>
      </ul>
      <p>Once confirmed, click the button below to complete setup and launch your brand!</p>
     <button class="launch-button" onclick="markStepComplete(6)">🚀 Launch My Brand</button>
    </section>
  </main>

      </section>
  </main>
<script>
  // Extract URL parameters
  const urlParams = new URLSearchParams(window.location.search);
  const agentParam = urlParams.get("agent");
  const contactIdParam = urlParams.get("ghl_contact_id");

  // Get from localStorage if URL missing
  const storedAgent = localStorage.getItem("agent_name") || "";
  const storedContactId = localStorage.getItem("ghl_contact_id") || "";

  // Use either URL or localStorage for display
  const agentName = agentParam || storedAgent;
  const contactId = contactIdParam || storedContactId;

  // Store if new values passed
  if (agentParam) localStorage.setItem("agent_name", agentParam);
  if (contactIdParam) localStorage.setItem("ghl_contact_id", contactIdParam);

  // Inject agent name at top of page
  document.getElementById("agent-name").textContent = decodeURIComponent(agentName || "");

  // Progress UI
  function updateProgressUI() {
    const lastCompletedStep = localStorage.getItem("lastCompletedStep") || "0";
    const percent = Math.round((parseInt(lastCompletedStep) / 6) * 100);
    document.getElementById("progress-bar-percent").innerText = `${percent}%`;

    const fill = document.getElementById("progress-bar-fill");
    if (fill) {
      fill.style.width = percent + "%";
      fill.innerText = `Building an Empire – ${percent}%`;
    }

    for (let i = 1; i <= 6; i++) {
      const step = document.getElementById("step-" + i);
      if (i <= parseInt(lastCompletedStep)) {
        step.classList.add("complete");
      } else {
        step.classList.remove("complete");
      }
    }
  }

  // Send tag to webhook
  function sendTag(tagValue) {
    const id = localStorage.getItem("ghl_contact_id");
    if (!id) return;

    fetch("https://n8n.eliteempireteam.com/webhook/ghl-social-tag", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ contactId: id, tag: tagValue })
    })
    .then(res => res.json())
    .then(data => console.log("✅ Tag sent:", data))
    .catch(err => console.error("❌ Tag error:", err));
  }

  // Handle step buttons
  function markComplete(step) {
    localStorage.setItem("lastCompletedStep", step.toString());
    updateProgressUI();

    const button = document.getElementById("btn-step-" + step);
    if (button) {
      button.textContent = "✅ Step Complete";
      button.classList.add("completed");
      button.disabled = true;
    }

    const tagMap = {
      1: "step-1-facebook-instagram-complete",
      2: "step-2-instagram-professional",
      3: "step-3-page-created",
      4: "step-4-link-complete",
      5: "step-5-access-complete"
    };
    if (tagMap[step]) sendTag(tagMap[step]);
  }

  function markStepComplete(step) {
    localStorage.setItem("lastCompletedStep", step.toString());
    sendTag("social setup complete");
    window.location.href = "https://social.eliteempireteam.com/social-setup-complete-page";
  }

  // Reset button for testing
  function resetProgress() {
    localStorage.clear();
    location.reload();
  }

  // Inject reset button
  document.addEventListener("DOMContentLoaded", function () {
    updateProgressUI();

    const toggleBtn = document.getElementById("theme-toggle");
    const storedTheme = localStorage.getItem("theme");

    if (storedTheme === "dark") {
      document.body.classList.add("dark-mode");
      toggleBtn.textContent = "🌞 Enable Light Mode";
    }

    toggleBtn.addEventListener("click", function () {
      const isDark = document.body.classList.toggle("dark-mode");
      localStorage.setItem("theme", isDark ? "dark" : "light");
      toggleBtn.textContent = isDark ? "🌞 Enable Light Mode" : "🌙 Enable Dark Mode";
    });

    // Add Reset Button at the top
    const resetBtn = document.createElement("button");
    resetBtn.textContent = "🔁 Reset My Progress";
    resetBtn.style = "margin-top: 10px; padding: 6px 12px; font-weight: bold; background:#eee; border-radius:6px;";
    resetBtn.onclick = resetProgress;

    const logoDiv = document.querySelector(".logo");
    logoDiv?.appendChild(resetBtn);
  });
</script>
</body>
</html>
